import{_ as j,r as P,a as B,p as Y,i as ae,o as le,u as r,b as re,c as M,d as $,e as ie,f as pe,g as H,h as S,j as ce,k as ue,l as E,m as K,w as f,n as k,t as L,q as de,s as T,v as N,x as fe,y as me,z as ve,A as Q,B as D,C as z,D as _e,E as b,F as J,G as q,H as X,I as be,J as ge,K as Z,L as y,M as he,N as ye,O as Ee,P as Ce}from"./index.6175ad9b.js";import{E as we,a as $e,b as ke,e as Se,c as Be}from"./index.43172f70.js";import{u as U,a as C,E as Ie,b as Ne,c as xe}from"./el-link.97babd17.js";import{u as ee,a as te,g as oe,E as Fe,G as Ae}from"./element.72c3baa8.js";const Oe={inheritAttrs:!1};function Pe(o,a,n,s,u,p){return P(o.$slots,"default")}var Le=j(Oe,[["render",Pe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Te={name:"ElCollectionItem",inheritAttrs:!1};function De(o,a,n,s,u,p){return P(o.$slots,"default")}var Me=j(Te,[["render",De],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Re="data-el-collection-item",Ve=o=>{const a=`El${o}Collection`,n=`${a}Item`,s=Symbol(a),u=Symbol(n),p={...Le,name:a,setup(){const m=B(null),v=new Map;Y(s,{itemMap:v,getItems:()=>{const c=r(m);if(!c)return[];const i=Array.from(c.querySelectorAll(`[${Re}]`));return[...v.values()].sort((h,w)=>i.indexOf(h.ref)-i.indexOf(w.ref))},collectionRef:m})}},g={...Me,name:n,setup(m,{attrs:v}){const _=B(null),c=ae(s,void 0);Y(u,{collectionItemRef:_}),le(()=>{const i=r(_);i&&c.itemMap.set(i,{ref:i,...v})}),re(()=>{const i=r(_);c.itemMap.delete(i)})}};return{COLLECTION_INJECTION_KEY:s,COLLECTION_ITEM_INJECTION_KEY:u,ElCollection:p,ElCollectionItem:g}},G=M({trigger:U.trigger,effect:{...C.effect,default:"light"},type:{type:$(String)},placement:{type:$(String),default:"bottom"},popperOptions:{type:$(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:$([Number,String]),default:0},maxHeight:{type:$([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:$(Object)}});M({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:ie}});M({onKeydown:{type:$(Function)}});Ve("Dropdown");const Ge=M({trigger:U.trigger,placement:G.placement,disabled:U.disabled,visible:C.visible,transition:C.transition,popperOptions:G.popperOptions,tabindex:G.tabindex,content:C.content,popperStyle:C.popperStyle,popperClass:C.popperClass,enterable:{...C.enterable,default:!0},effect:{...C.effect,default:"light"},teleported:C.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Ue={"update:visible":o=>pe(o),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},je={name:"ElPopover"},He=H({...je,props:Ge,emits:Ue,setup(o,{expose:a,emit:n}){const s=o,u="onUpdate:visible",p=S(()=>s[u]),g=ce("popover"),m=B(),v=S(()=>{var e;return(e=r(m))==null?void 0:e.popperRef}),_=S(()=>[{width:ue(s.width)},s.popperStyle]),c=S(()=>[g.b(),s.popperClass,{[g.m("plain")]:!!s.content}]),i=S(()=>s.transition===`${g.namespace.value}-fade-in-linear`),l=()=>{var e;(e=m.value)==null||e.hide()},h=()=>{n("before-enter")},w=()=>{n("before-leave")},x=()=>{n("after-enter")},F=()=>{n("update:visible",!1),n("after-leave")};return a({popperRef:v,hide:l}),(e,A)=>(E(),K(r(Ie),fe({ref_key:"tooltipRef",ref:m},e.$attrs,{trigger:e.trigger,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":r(c),"popper-style":r(_),teleported:e.teleported,persistent:e.persistent,"gpu-acceleration":r(i),"onUpdate:visible":r(p),onBeforeShow:h,onBeforeHide:w,onShow:x,onHide:F}),{content:f(()=>[e.title?(E(),k("div",{key:0,class:de(r(g).e("title")),role:"title"},L(e.title),3)):T("v-if",!0),P(e.$slots,"default",{},()=>[N(L(e.content),1)])]),default:f(()=>[e.$slots.reference?P(e.$slots,"reference",{key:0}):T("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Ke=j(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const W=(o,a)=>{const n=a.arg||a.value,s=n==null?void 0:n.popperRef;s&&(s.triggerRef=o)};var Ye={mounted(o,a){W(o,a)},updated(o,a){W(o,a)}};const ze="popover",Je=me(Ye,ze),qe=ve(Ke,{directive:Je});const ne=Symbol(),se=o=>(be("data-v-ce480d71"),o=o(),ge(),o),We=se(()=>b("div",{"i-typcn-arrow-back":""},null,-1)),Qe=se(()=>b("span",{class:"m-l-4px text-12px"},"\u8FD4\u56DE\u4E0A\u4E00\u7EA7",-1)),Xe={class:"file-list"},Ze=["onClick"],et={class:"file-list"},tt=["onClick"],ot={key:0,class:"w8px h8px bg-green b-rd-100% m-l-10px"},nt=H({__name:"FileList",setup(o){const{getFile:a,getPathToString:n,pushPath:s,popPath:u,setFile:p}=Q(),{on:g}=X(ne),m=["index.md","README.md"],v={GetContent(t){return te(oe+`/repos/${r(Z).login}/${t}/contents${n.value}?t=${Date.now()}`).get().json()}},_=B(),c=B([]),i=S(()=>{var t;return(t=c.value)==null?void 0:t.filter(d=>d.type==="dir")}),l=S(()=>{var t;return(t=c.value)==null?void 0:t.filter(d=>d.type==="file"&&d.name.endsWith("md"))}),h=D.value.repo;async function w(t){s(t)}function x(t){p(t)}function F(){u()}z(()=>r(D).repo,async t=>{if(!t)return;const{data:d}=await v.GetContent(t);c.value=d.value||[]},{immediate:!0});const{loading:e,open:A}=ee({target:_,text:"\u52A0\u8F7D\u4E2D..."});async function O(){var d;A();const{data:t}=await v.GetContent(h);c.value=t.value||[],(d=e.value)==null||d.close()}return _e(n,async()=>{O()},{debounce:200}),z(l,t=>{if(t.length){const d=t.find(R=>m.includes(R.name))||t[0];p(d)}}),g(()=>{O()}),(t,d)=>{const R=Ne;return E(),k("main",{class:"w-100% color-gray-6 text-12px my10px",ref_key:"fileContainerRef",ref:_},[r(n)!=="/"?(E(),K(R,{key:0,class:"my-10px m-l-30px",onClick:F},{default:f(()=>[We,Qe]),_:1})):T("",!0),b("div",Xe,[(E(!0),k(J,null,q(r(i),I=>(E(),k("div",{"cursor-pointer":"",class:"file-item",onClick:V=>w(I.path)},L(I.name),9,Ze))),256))]),b("div",et,[(E(!0),k(J,null,q(r(l),I=>{var V;return E(),k("div",{"cursor-pointer":"",class:"file-item",onClick:bt=>x(I)},[N(L(I.name)+" ",1),((V=r(a))==null?void 0:V.sha)===I.sha?(E(),k("span",ot)):T("",!0)],8,tt)}),256))])],512)}}});const st=(o,a)=>{const n=o.__vccOpts||o;for(const[s,u]of a)n[s]=u;return n},at=st(nt,[["__scopeId","data-v-ce480d71"]]),lt=b("div",{"i-mdi-language-markdown":"","text-70px":"","color-gray":""},null,-1),rt=b("div",{class:"text-gray-600"},"Markdown",-1),it=[lt,rt],pt=b("div",{class:"b-b-1px b-color-#dcdfe6 w-100%"},null,-1),ct={class:"h[calc(100%-300px)]"},ut={class:"w-100% h-300px b-t-1px b-color-#dcdfe6 absolute bottom-0 bg-gray-50 text-center py-20px"},dt=N("\u65B0\u5EFAMarkdown"),ft={"m-t-10px":"","text-center":""},mt=N("\u53D6\u6D88"),vt=N("\u786E\u5B9A"),_t=N("\u8BBE \u7F6E"),Ct=H({__name:"Layout",setup(o){const{getPathToString:a}=Q(),n=B(""),s={AddFile(i){return te(`${oe}/repos/${Z.value.login}/${D.value.repo}/contents${a.value}${n.value}.md`).put(i)}},u=he(),p=B(!1),{emit:g}=X(ne),{loading:m,open:v}=ee({text:"\u521B\u5EFA\u6587\u4EF6\u4E2D..."});async function _(){var l;v();const{statusCode:i}=await s.AddFile({message:"md-github from a new file commit "+ye().format("YYYY/MM/DD HH:mm"),content:Se("Hello Markdown Github")});i.value===Ae.Created&&Be({title:"Success",message:"\u521B\u5EFA\u6210\u529F",type:"success"}),p.value=!1,(l=m.value)==null||l.close(),g()}function c(){r(D).token||(p.value=!1,Ee.warning("\u8BF7\u5148\u767B\u5F55"))}return(i,l)=>{const h=Fe,w=xe,x=qe,F=we,e=Ce("router-view"),A=$e,O=ke;return E(),K(O,{class:"h-100vh layout"},{default:f(()=>[y(F,{width:"210px",class:"b-r-1px b-color-#dcdfe6 relative"},{default:f(()=>[b("div",{"flex-center":"","cursor-pointer":"",onClick:l[0]||(l[0]=t=>r(u).push("/"))},it),pt,b("main",ct,[y(at)]),b("footer",ut,[y(x,{placement:"right",width:200,trigger:"click",visible:p.value,"onUpdate:visible":l[3]||(l[3]=t=>p.value=t),onBeforeEnter:c},{reference:f(()=>[y(h,{size:"large",class:"w-160px m-b-10px text-12px!",round:""},{default:f(()=>[dt]),_:1})]),default:f(()=>[y(w,{modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=t=>n.value=t),placeholder:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D"},null,8,["modelValue"]),b("div",ft,[y(h,{type:"info",onClick:l[2]||(l[2]=t=>p.value=!1)},{default:f(()=>[mt]),_:1}),y(h,{type:"primary",onClick:_},{default:f(()=>[vt]),_:1})])]),_:1},8,["visible"]),y(h,{size:"large",class:"w-160px m0! text-12px!",round:"",onClick:l[4]||(l[4]=t=>r(u).push("/general"))},{default:f(()=>[_t]),_:1})])]),_:1}),y(A,null,{default:f(()=>[y(e)]),_:1})]),_:1})}}});export{Ct as default};
