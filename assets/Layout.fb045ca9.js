import{_ as j,r as M,a as I,p as q,i as pe,o as ce,u as t,b as ue,c as V,d as F,e as de,f as fe,g as K,h as N,j as me,k as _e,l as C,m as J,w as p,n as S,t as T,q as ve,s as R,v as B,x as be,y as he,z as ge,A as se,B as L,C as W,D as ye,E as d,F as Q,G as X,H as le,I as Ee,J as Ce,K as U,L as we,M as c,N as ke,O as Z,P as $e,Q as xe}from"./index.131b556d.js";import{E as Be,a as Ae,b as Fe,e as ee,c as te}from"./index.48b98992.js";import{u as z,a as w,E as Se,b as Ne,c as Ie}from"./el-link.2023bc70.js";import{u as ae,a as H,g as Y,E as De,G as oe}from"./element.c13e3905.js";const Oe={inheritAttrs:!1};function Pe(l,n,s,a,v,E){return M(l.$slots,"default")}var Le=j(Oe,[["render",Pe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Me={name:"ElCollectionItem",inheritAttrs:!1};function Te(l,n,s,a,v,E){return M(l.$slots,"default")}var Re=j(Me,[["render",Te],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Ve="data-el-collection-item",Ge=l=>{const n=`El${l}Collection`,s=`${n}Item`,a=Symbol(n),v=Symbol(s),E={...Le,name:n,setup(){const b=I(null),h=new Map;q(a,{itemMap:h,getItems:()=>{const f=t(b);if(!f)return[];const m=Array.from(f.querySelectorAll(`[${Ve}]`));return[...h.values()].sort(($,A)=>m.indexOf($.ref)-m.indexOf(A.ref))},collectionRef:b})}},i={...Re,name:s,setup(b,{attrs:h}){const g=I(null),f=pe(a,void 0);q(v,{collectionItemRef:g}),ce(()=>{const m=t(g);m&&f.itemMap.set(m,{ref:m,...h})}),ue(()=>{const m=t(g);f.itemMap.delete(m)})}};return{COLLECTION_INJECTION_KEY:a,COLLECTION_ITEM_INJECTION_KEY:v,ElCollection:E,ElCollectionItem:i}},G=V({trigger:z.trigger,effect:{...w.effect,default:"light"},type:{type:F(String)},placement:{type:F(String),default:"bottom"},popperOptions:{type:F(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:F([Number,String]),default:0},maxHeight:{type:F([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:F(Object)}});V({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:de}});V({onKeydown:{type:F(Function)}});Ge("Dropdown");const Ue=V({trigger:z.trigger,placement:G.placement,disabled:z.disabled,visible:w.visible,transition:w.transition,popperOptions:G.popperOptions,tabindex:G.tabindex,content:w.content,popperStyle:w.popperStyle,popperClass:w.popperClass,enterable:{...w.enterable,default:!0},effect:{...w.effect,default:"light"},teleported:w.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),ze={"update:visible":l=>fe(l),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},He={name:"ElPopover"},Ye=K({...He,props:Ue,emits:ze,setup(l,{expose:n,emit:s}){const a=l,v="onUpdate:visible",E=N(()=>a[v]),i=me("popover"),b=I(),h=N(()=>{var e;return(e=t(b))==null?void 0:e.popperRef}),g=N(()=>[{width:_e(a.width)},a.popperStyle]),f=N(()=>[i.b(),a.popperClass,{[i.m("plain")]:!!a.content}]),m=N(()=>a.transition===`${i.namespace.value}-fade-in-linear`),k=()=>{var e;(e=b.value)==null||e.hide()},$=()=>{s("before-enter")},A=()=>{s("before-leave")},y=()=>{s("after-enter")},o=()=>{s("update:visible",!1),s("after-leave")};return n({popperRef:h,hide:k}),(e,D)=>(C(),J(t(Se),be({ref_key:"tooltipRef",ref:b},e.$attrs,{trigger:e.trigger,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":t(f),"popper-style":t(g),teleported:e.teleported,persistent:e.persistent,"gpu-acceleration":t(m),"onUpdate:visible":t(E),onBeforeShow:$,onBeforeHide:A,onShow:y,onHide:o}),{content:p(()=>[e.title?(C(),S("div",{key:0,class:ve(t(i).e("title")),role:"title"},T(e.title),3)):R("v-if",!0),M(e.$slots,"default",{},()=>[B(T(e.content),1)])]),default:p(()=>[e.$slots.reference?M(e.$slots,"reference",{key:0}):R("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var je=j(Ye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const ne=(l,n)=>{const s=n.arg||n.value,a=s==null?void 0:s.popperRef;a&&(a.triggerRef=l)};var Ke={mounted(l,n){ne(l,n)},updated(l,n){ne(l,n)}};const Je="popover",qe=he(Ke,Je),We=ge(je,{directive:qe});const re=Symbol(),ie=l=>(Ee("data-v-cc66625f"),l=l(),Ce(),l),Qe=ie(()=>d("div",{"i-typcn-arrow-back":""},null,-1)),Xe=ie(()=>d("span",{class:"m-l-4px text-12px"},"\u8FD4\u56DE\u4E0A\u4E00\u7EA7",-1)),Ze={class:"file-list"},et=["onClick"],tt={class:"name"},ot={class:"file-list"},nt=["onClick"],st={class:"name"},lt={key:0,class:"w8px h8px bg-green b-rd-100% m-l-10px"},at=K({__name:"FileList",setup(l){const{getFile:n,getPath:s,pushPath:a,popPath:v,setFile:E}=se(),{on:i}=le(re),b=["index.md","README.md"],h={GetContent(r){return H(Y+`/repos/${t(U).login}/${r}/contents${s.value}?t=${Date.now()}`).get().json()}},g=I(),f=I([]),m=N(()=>{var r;return(r=f.value)==null?void 0:r.filter(_=>_.type==="dir")}),k=N(()=>{var r;return(r=f.value)==null?void 0:r.filter(_=>_.type==="file"&&_.name.endsWith("md"))}),$=L.value.repo;async function A(r){a(r)}function y(r){E(r)}function o(){v()}W(()=>t(L).repo,async r=>{if(!r)return;const{data:_}=await h.GetContent(r);f.value=_.value||[]},{immediate:!0});const{loading:e,open:D}=ae({target:g,text:"\u52A0\u8F7D\u4E2D..."});async function O(){var _;D();const{data:r}=await h.GetContent($);f.value=r.value||[],(_=e.value)==null||_.close()}return ye(s,async()=>{O()},{debounce:200}),W(k,r=>{if(r.length){const _=r.find(P=>b.includes(P.name))||r[0];E(_)}}),i(()=>{O()}),(r,_)=>{const P=Ne;return C(),S("main",{class:"w-100% color-gray-6 text-12px my10px",ref_key:"fileContainerRef",ref:g},[t(s)!=="/"?(C(),J(P,{key:0,class:"my-10px m-l-30px",onClick:o},{default:p(()=>[Qe,Xe]),_:1})):R("",!0),d("div",Ze,[(C(!0),S(Q,null,X(t(m),x=>(C(),S("div",{"cursor-pointer":"",class:"file-item",onClick:u=>A(x.path)},[d("span",tt,T(x.name),1)],8,et))),256))]),d("div",ot,[(C(!0),S(Q,null,X(t(k),x=>{var u;return C(),S("div",{"cursor-pointer":"",class:"file-item",onClick:$t=>y(x)},[d("span",st,T(x.name),1),((u=t(n))==null?void 0:u.sha)===x.sha?(C(),S("span",lt)):R("",!0)],8,nt)}),256))])],512)}}});const rt=(l,n)=>{const s=l.__vccOpts||l;for(const[a,v]of n)s[a]=v;return s},it=rt(at,[["__scopeId","data-v-cc66625f"]]),pt=d("div",{"i-mdi-language-markdown":"","text-70px":"","color-gray":""},null,-1),ct=d("div",{class:"text-gray-600"},"Markdown",-1),ut=[pt,ct],dt=d("div",{class:"b-b-1px b-color-#dcdfe6 w-100%"},null,-1),ft={class:"h[calc(100%-300px)]"},mt={class:"w-100% h-300px b-t-1px b-color-#dcdfe6 absolute bottom-0 bg-gray-50 text-center py-20px"},_t=B("\u65B0\u5EFAMarkdown"),vt={"m-t-10px":"","text-center":""},bt=B("\u53D6\u6D88"),ht=B("\u786E\u5B9A"),gt=B("\u65B0\u5EFA\u6587\u4EF6\u5939"),yt={"m-t-10px":"","text-center":""},Et=B("\u53D6\u6D88"),Ct=B("\u786E\u5B9A"),wt=B("\u8BBE \u7F6E"),kt=d("div",{"i-fa-github-alt":"","m-auto":"","text-28px":""},null,-1),St=K({__name:"Layout",setup(l){const{getPath:n}=se(),s=I(""),a=I(""),v={AddFile(y){const o=Y+"/repos/"+t(U).login+"/"+t(L).repo+"/contents"+(t(n)==="/"?t(n):t(n)+"/")+t(s)+".md";return H(o).put(y)},AddDir(y){const o=Y+"/repos/"+t(U).login+"/"+t(L).repo+"/contents"+(t(n)==="/"?t(n):t(n)+"/")+t(a)+"/README.md";return H(o).put(y)}},E=ke(),i=we({file:!1,dir:!1}),{emit:b}=le(re),{loading:h,open:g}=ae({text:"\u521B\u5EFA\u6587\u4EF6\u4E2D..."});async function f(){var o;g();const{statusCode:y}=await v.AddFile({message:"md-github from a new file commit "+Z().format("YYYY/MM/DD HH:mm"),content:ee("Hello Markdown Github")});y.value===oe.Created&&te({title:"Success",message:"\u521B\u5EFA\u6210\u529F",type:"success"}),i.file=!1,(o=h.value)==null||o.close(),b()}async function m(){var o;g();const{statusCode:y}=await v.AddDir({message:"md-github from a new Dir commit "+Z().format("YYYY/MM/DD HH:mm"),content:ee("Hello Markdown Github")});y.value===oe.Created&&te({title:"Success",message:"\u521B\u5EFA\u6210\u529F",type:"success"}),i.dir=!1,(o=h.value)==null||o.close(),b()}function k(){t(L).token||(i.file=!1,$e.warning("\u8BF7\u5148\u767B\u5F55"))}function $(){s.value="",a.value=""}function A(){window.open("https://github.com/zhazhazhu/md-github")}return(y,o)=>{const e=De,D=Ie,O=We,r=Be,_=xe("router-view"),P=Ae,x=Fe;return C(),J(x,{class:"h-100vh layout"},{default:p(()=>[c(r,{width:"210px",class:"b-r-1px b-color-#dcdfe6 relative"},{default:p(()=>[d("div",{"flex-center":"","cursor-pointer":"",onClick:o[0]||(o[0]=u=>t(E).push("/"))},ut),dt,d("main",ft,[c(it)]),d("footer",mt,[c(O,{placement:"right",width:200,trigger:"click",visible:i.file,"onUpdate:visible":o[3]||(o[3]=u=>i.file=u),onBeforeEnter:k,onAfterLeave:$},{reference:p(()=>[c(e,{size:"large",class:"w-160px m-b-10px text-12px!",round:""},{default:p(()=>[_t]),_:1})]),default:p(()=>[c(D,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=u=>s.value=u),placeholder:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D"},null,8,["modelValue"]),d("div",vt,[c(e,{type:"info",onClick:o[2]||(o[2]=u=>i.file=!1)},{default:p(()=>[bt]),_:1}),c(e,{type:"primary",onClick:f},{default:p(()=>[ht]),_:1})])]),_:1},8,["visible"]),c(O,{placement:"right",width:200,trigger:"click",visible:i.dir,"onUpdate:visible":o[6]||(o[6]=u=>i.dir=u),onBeforeEnter:k,onAfterLeave:$},{reference:p(()=>[c(e,{size:"large",class:"w-160px m-b-10px ml0! text-12px!",round:""},{default:p(()=>[gt]),_:1})]),default:p(()=>[c(D,{modelValue:a.value,"onUpdate:modelValue":o[4]||(o[4]=u=>a.value=u),placeholder:"\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D"},null,8,["modelValue"]),d("div",yt,[c(e,{type:"info",onClick:o[5]||(o[5]=u=>i.dir=!1)},{default:p(()=>[Et]),_:1}),c(e,{type:"primary",onClick:m},{default:p(()=>[Ct]),_:1})])]),_:1},8,["visible"]),c(e,{size:"large",class:"w-160px m-b-10px ml0! text-12px!",round:"",onClick:o[7]||(o[7]=u=>t(E).push("/general"))},{default:p(()=>[wt]),_:1}),c(e,{size:"large",class:"w-160px m-b-10px ml0!",round:"",onClick:A},{default:p(()=>[kt]),_:1})])]),_:1}),c(P,null,{default:p(()=>[c(_)]),_:1})]),_:1})}}});export{St as default};
