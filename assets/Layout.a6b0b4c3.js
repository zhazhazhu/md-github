import{_ as A,d as N,u as Ce,a as P,c as k,o as h,b,r as B,n as O,e,f as ne,w as me,g as U,h as F,p as re,i as ke,j as $e,k as xe,l as Y,m as L,q as Fe,s as Be,t as Se,v as se,x as u,y as G,z as j,A as $,B as Ae,C as Ne,D as _e,E as ae,F as Ie,G as l,H as ie,I as le,J as X,K as V,L as De,M as Le,N as Z,O as Me,P as f,Q as Pe,R as ce,S as Oe,T as Te}from"./index.16afbc28.js";import{u as ee,a as x,E as Ve}from"./el-popper.b25d84f9.js";import{u as he,a as te,g as oe,E as He,G as pe}from"./element.21c71e6b.js";import{B as T}from"./Button.06936b9c.js";import{g as ve,o as Re}from"./index.ccf0ed77.js";import{_ as Ge,e as ue,E as de}from"./index.4f90a620.js";import{E as je}from"./el-link.2cb2aebd.js";import{E as Ue}from"./index.6615ca52.js";const Ye={name:"ElContainer"},ze=N({...Ye,props:{direction:{type:String}},setup(i){const t=i,n=Ce(),a=P("container"),p=k(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(c=>{const m=c.type.name;return m==="ElHeader"||m==="ElFooter"}):!1);return(d,c)=>(h(),b("section",{class:O([e(a).b(),e(a).is("vertical",e(p))])},[B(d.$slots,"default")],2))}});var Ke=A(ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const Je={name:"ElAside"},We=N({...Je,props:{width:{type:String,default:null}},setup(i){const t=i,n=P("aside"),a=k(()=>t.width?n.cssVarBlock({width:t.width}):{});return(p,d)=>(h(),b("aside",{class:O(e(n).b()),style:ne(e(a))},[B(p.$slots,"default")],6))}});var ge=A(We,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const qe={name:"ElFooter"},Qe=N({...qe,props:{height:{type:String,default:null}},setup(i){const t=i,n=P("footer"),a=k(()=>t.height?n.cssVarBlock({height:t.height}):{});return(p,d)=>(h(),b("footer",{class:O(e(n).b()),style:ne(e(a))},[B(p.$slots,"default")],6))}});var be=A(Qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const Xe={name:"ElHeader"},Ze=N({...Xe,props:{height:{type:String,default:null}},setup(i){const t=i,n=P("header"),a=k(()=>t.height?n.cssVarBlock({height:t.height}):{});return(p,d)=>(h(),b("header",{class:O(e(n).b()),style:ne(e(a))},[B(p.$slots,"default")],6))}});var ye=A(Ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const et={name:"ElMain"},tt=N({...et,setup(i){const t=P("main");return(n,a)=>(h(),b("main",{class:O(e(t).b())},[B(n.$slots,"default")],2))}});var Ee=A(tt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const ot=me(Ke,{Aside:ge,Footer:be,Header:ye,Main:Ee}),nt=U(ge);U(be);U(ye);const st=U(Ee),rt={inheritAttrs:!1};function at(i,t,n,a,p,d){return B(i.$slots,"default")}var it=A(rt,[["render",at],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const lt={name:"ElCollectionItem",inheritAttrs:!1};function ct(i,t,n,a,p,d){return B(i.$slots,"default")}var pt=A(lt,[["render",ct],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const ut="data-el-collection-item",dt=i=>{const t=`El${i}Collection`,n=`${t}Item`,a=Symbol(t),p=Symbol(n),d={...it,name:t,setup(){const m=F(null),y=new Map;re(a,{itemMap:y,getItems:()=>{const w=e(m);if(!w)return[];const _=Array.from(w.querySelectorAll(`[${ut}]`));return[...y.values()].sort((C,I)=>_.indexOf(C.ref)-_.indexOf(I.ref))},collectionRef:m})}},c={...pt,name:n,setup(m,{attrs:y}){const E=F(null),w=ke(a,void 0);re(p,{collectionItemRef:E}),$e(()=>{const _=e(E);_&&w.itemMap.set(_,{ref:_,...y})}),xe(()=>{const _=e(E);w.itemMap.delete(_)})}};return{COLLECTION_INJECTION_KEY:a,COLLECTION_ITEM_INJECTION_KEY:p,ElCollection:d,ElCollectionItem:c}},Q=Y({trigger:ee.trigger,effect:{...x.effect,default:"light"},type:{type:L(String)},placement:{type:L(String),default:"bottom"},popperOptions:{type:L(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:L([Number,String]),default:0},maxHeight:{type:L([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:L(Object)}});Y({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Fe}});Y({onKeydown:{type:L(Function)}});dt("Dropdown");const ft=Y({trigger:ee.trigger,placement:Q.placement,disabled:ee.disabled,visible:x.visible,transition:x.transition,popperOptions:Q.popperOptions,tabindex:Q.tabindex,content:x.content,popperStyle:x.popperStyle,popperClass:x.popperClass,enterable:{...x.enterable,default:!0},effect:{...x.effect,default:"light"},teleported:x.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),mt={"update:visible":i=>Be(i),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},_t={name:"ElPopover"},ht=N({..._t,props:ft,emits:mt,setup(i,{expose:t,emit:n}){const a=i,p="onUpdate:visible",d=k(()=>a[p]),c=P("popover"),m=F(),y=k(()=>{var o;return(o=e(m))==null?void 0:o.popperRef}),E=k(()=>[{width:Se(a.width)},a.popperStyle]),w=k(()=>[c.b(),a.popperClass,{[c.m("plain")]:!!a.content}]),_=k(()=>a.transition===`${c.namespace.value}-fade-in-linear`),S=()=>{var o;(o=m.value)==null||o.hide()},C=()=>{n("before-enter")},I=()=>{n("before-leave")},v=()=>{n("after-enter")},r=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:y,hide:S}),(o,D)=>(h(),se(e(Ve),Ae({ref_key:"tooltipRef",ref:m},o.$attrs,{trigger:o.trigger,placement:o.placement,disabled:o.disabled,visible:o.visible,transition:o.transition,"popper-options":o.popperOptions,tabindex:o.tabindex,content:o.content,offset:o.offset,"show-after":o.showAfter,"hide-after":o.hideAfter,"auto-close":o.autoClose,"show-arrow":o.showArrow,"aria-label":o.title,effect:o.effect,enterable:o.enterable,"popper-class":e(w),"popper-style":e(E),teleported:o.teleported,persistent:o.persistent,"gpu-acceleration":e(_),"onUpdate:visible":e(d),onBeforeShow:C,onBeforeHide:I,onShow:v,onHide:r}),{content:u(()=>[o.title?(h(),b("div",{key:0,class:O(e(c).e("title")),role:"title"},G(o.title),3)):j("v-if",!0),B(o.$slots,"default",{},()=>[$(G(o.content),1)])]),default:u(()=>[o.$slots.reference?B(o.$slots,"reference",{key:0}):j("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var vt=A(ht,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const fe=(i,t)=>{const n=t.arg||t.value,a=n==null?void 0:n.popperRef;a&&(a.triggerRef=i)};var gt={mounted(i,t){fe(i,t)},updated(i,t){fe(i,t)}};const bt="popover",yt=Ne(gt,bt),Et=me(vt,{directive:yt});const we=i=>(De("data-v-74e39e1f"),i=i(),Le(),i),wt=we(()=>l("div",{"i-typcn-arrow-back":""},null,-1)),Ct=we(()=>l("span",{class:"m-l-4px text-12px"},"\u8FD4\u56DE\u4E0A\u4E00\u7EA7",-1)),kt={class:"file-list"},$t=["onClick"],xt={class:"name"},Ft={class:"file-list"},Bt=["onClick"],St={class:"name"},At={key:0,class:"w8px h8px bg-green b-rd-100% m-l-10px"},Nt=N({__name:"FileList",setup(i){const{getPath:t,getCurrentTabPane:n,pushPath:a,popPath:p,setFileList:d,addTabPane:c,getFileList:m}=_e(),{on:y}=X(ve),{emit:E}=X(Re),w=["jpeg","jpg","png"],_={GetContent(s){return te(oe+`/repos/${e(Z).login}/${s}/contents${t.value}?t=${Date.now()}`).get().json()}},S=F(),C=F([]),I=k(()=>{var s;return(s=C.value)==null?void 0:s.filter(g=>g.type==="dir")}),v=F([]),r=F([]);ae(C,s=>{r.value=s==null?void 0:s.filter(g=>g.type==="file"&&w.some(W=>g.name.endsWith(W))),v.value=(s==null?void 0:s.filter(g=>g.type==="file"&&g.name.endsWith("md")))||[],d([...v.value,...r.value])});const o=k(()=>V.value.repo);async function D(s){a(s)}function H(s){E(s)}function z(){p()}ae(()=>e(V).repo,async s=>{if(!s)return;const{data:g}=await _.GetContent(s);C.value=g.value||[]},{immediate:!0});const{loading:K,open:J}=he({target:S,text:"\u52A0\u8F7D\u4E2D..."});async function R(){var g;J();const{data:s}=await _.GetContent(o.value);C.value=s.value||[],(g=K.value)==null||g.close()}return Ie(t,async()=>{R()},{debounce:200}),y(()=>{R()}),(s,g)=>{const W=je;return h(),b("main",{class:"w-100% color-gray-6 text-12px my10px",ref_key:"fileContainerRef",ref:S},[e(t)!=="/"?(h(),se(W,{key:0,class:"my-10px m-l-30px",onClick:z},{default:u(()=>[wt,Ct]),_:1})):j("",!0),l("div",kt,[(h(!0),b(ie,null,le(e(I),M=>(h(),b("div",{"cursor-pointer":"",class:"file-item",onClick:q=>D(M.path)},[l("span",xt,G(M.name),1)],8,$t))),256))]),l("div",Ft,[(h(!0),b(ie,null,le(e(m),M=>{var q;return h(),b("div",{"cursor-pointer":"",class:"file-item",onClick:eo=>H(M)},[l("span",St,G(M.name),1),((q=e(n))==null?void 0:q.sha)===M.sha?(h(),b("span",At)):j("",!0)],8,Bt)}),256))])],512)}}});const It=Ge(Nt,[["__scopeId","data-v-74e39e1f"]]),Dt=l("svg",{class:"icon mr5px text-24px","aria-hidden":"true"},[l("use",{"xlink:href":"#icon-yintian"})],-1),Lt=l("div",{class:"text-gray-600 ml10px"},"Markdown",-1),Mt=[Dt,Lt],Pt={class:"h[calc(100%-400px)] overflow-auto"},Ot={class:"w-100% h-300px absolute bottom-0 text-center py-20px flex flex-col items-center justify-end"},Tt=l("svg",{class:"icon mr12px","aria-hidden":"true"},[l("use",{"xlink:href":"#icon-upload"})],-1),Vt=$(" \u56FE\u7247\u4E0A\u4F20 "),Ht=l("svg",{class:"icon mr12px","aria-hidden":"true"},[l("use",{"xlink:href":"#icon-a-xiugai-file"})],-1),Rt=$(" \u65B0\u5EFA Markdown "),Gt={"m-t-10px":"","text-center":""},jt=$("\u53D6\u6D88"),Ut=$("\u786E\u5B9A"),Yt=l("svg",{class:"icon mr12px","aria-hidden":"true"},[l("use",{"xlink:href":"#icon-a-xiugai2"})],-1),zt=$(" \u65B0\u5EFA \u6587\u4EF6\u5939 "),Kt={"m-t-10px":"","text-center":""},Jt=$("\u53D6\u6D88"),Wt=$("\u786E\u5B9A"),qt=l("svg",{class:"icon mr12px","aria-hidden":"true"},[l("use",{"xlink:href":"#icon-shezhi"})],-1),Qt=$(" \u8BBE \u7F6E "),Xt=l("svg",{class:"icon mr12px","aria-hidden":"true"},[l("use",{"xlink:href":"#icon-github1"})],-1),Zt=$(" GITHUB "),co=N({__name:"Layout",setup(i){const{getPath:t}=_e(),n=F(""),a=F(""),p={AddFile(v){const r=oe+"/repos/"+e(Z).login+"/"+e(V).repo+"/contents"+(e(t)==="/"?e(t):e(t)+"/")+e(n)+".md";return te(r).put(v)},AddDir(v){const r=oe+"/repos/"+e(Z).login+"/"+e(V).repo+"/contents"+(e(t)==="/"?e(t):e(t)+"/")+e(a)+"/README.md";return te(r).put(v)}},d=Pe(),c=Me({file:!1,dir:!1}),{emit:m}=X(ve),{loading:y,open:E}=he({text:"\u521B\u5EFA\u6587\u4EF6\u4E2D..."});async function w(){var r;E();const{statusCode:v}=await p.AddFile({message:"md-github from a new file commit "+ce().format("YYYY/MM/DD HH:mm"),content:ue("Hello Markdown Github")});v.value===pe.Created&&de({title:"Success",message:"\u521B\u5EFA\u6210\u529F",type:"success"}),c.file=!1,(r=y.value)==null||r.close(),m()}async function _(){var r;E();const{statusCode:v}=await p.AddDir({message:"md-github from a new Dir commit "+ce().format("YYYY/MM/DD HH:mm"),content:ue("Hello Markdown Github")});v.value===pe.Created&&de({title:"Success",message:"\u521B\u5EFA\u6210\u529F",type:"success"}),c.dir=!1,(r=y.value)==null||r.close(),m()}function S(){e(V).token||(c.file=!1,c.dir=!1,Oe.warning("\u8BF7\u5148\u767B\u5F55"))}function C(){n.value="",a.value=""}function I(){window.open("https://github.com/zhazhazhu/md-github")}return(v,r)=>{const o=He,D=Ue,H=Et,z=nt,K=Te("router-view"),J=st,R=ot;return h(),se(R,{class:"h-100vh layout"},{default:u(()=>[f(z,{width:"210px",class:"bg-#EDEFF3 relative"},{default:u(()=>[l("div",{"flex-center":"","cursor-pointer":"","justify-start":"",onClick:r[0]||(r[0]=s=>e(d).push("/")),class:"p6px"},Mt),l("main",Pt,[f(It)]),l("footer",Ot,[f(T,{class:"w200px m-b-10px",onClick:r[1]||(r[1]=s=>e(d).push("/upload_image"))},{default:u(()=>[Tt,Vt]),_:1}),f(H,{placement:"right",width:200,trigger:"click",visible:c.file,"onUpdate:visible":r[4]||(r[4]=s=>c.file=s),onBeforeEnter:S,onAfterLeave:C},{reference:u(()=>[f(T,{class:"w200px m-b-10px"},{default:u(()=>[Ht,Rt]),_:1})]),default:u(()=>[f(o,{modelValue:n.value,"onUpdate:modelValue":r[2]||(r[2]=s=>n.value=s),placeholder:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D"},null,8,["modelValue"]),l("div",Gt,[f(D,{type:"info",onClick:r[3]||(r[3]=s=>c.file=!1)},{default:u(()=>[jt]),_:1}),f(D,{type:"primary",onClick:w},{default:u(()=>[Ut]),_:1})])]),_:1},8,["visible"]),f(H,{placement:"right",width:200,trigger:"click",visible:c.dir,"onUpdate:visible":r[7]||(r[7]=s=>c.dir=s),onBeforeEnter:S,onAfterLeave:C},{reference:u(()=>[f(T,{class:"w200px m-b-10px"},{default:u(()=>[Yt,zt]),_:1})]),default:u(()=>[f(o,{modelValue:a.value,"onUpdate:modelValue":r[5]||(r[5]=s=>a.value=s),placeholder:"\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D"},null,8,["modelValue"]),l("div",Kt,[f(D,{type:"info",onClick:r[6]||(r[6]=s=>c.dir=!1)},{default:u(()=>[Jt]),_:1}),f(D,{type:"primary",onClick:_},{default:u(()=>[Wt]),_:1})])]),_:1},8,["visible"]),f(T,{class:"w200px m-b-10px",onClick:r[8]||(r[8]=s=>e(d).push("/general"))},{default:u(()=>[qt,Qt]),_:1}),f(T,{class:"w200px m-b-10px",onClick:I},{default:u(()=>[Xt,Zt]),_:1})])]),_:1}),f(J,{class:"p0!"},{default:u(()=>[f(K)]),_:1})]),_:1})}}});export{co as default};
