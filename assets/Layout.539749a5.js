import{_ as j,r as P,a as B,p as Y,i as ae,o as le,u as r,b as re,c as M,d as $,e as ie,f as pe,g as H,h as S,j as ce,k as ue,l as E,m as K,w as m,n as k,t as L,q as de,s as T,v as F,x as fe,y as me,z as ve,A as Q,B as D,C as z,D as _e,E as d,F as J,G as q,H as X,I as be,J as ge,K as Z,L as y,M as he,N as ye,O as Ee,P as Ce}from"./index.643569a1.js";import{E as we,a as $e,b as ke,e as Se,c as Be}from"./index.eb328840.js";import{u as U,a as C,E as Ie,b as Ne,c as xe}from"./el-link.600107d1.js";import{u as ee,a as te,g as oe,E as Fe,G as Ae}from"./element.8e12bef4.js";const Oe={inheritAttrs:!1};function Pe(o,a,n,s,u,p){return P(o.$slots,"default")}var Le=j(Oe,[["render",Pe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Te={name:"ElCollectionItem",inheritAttrs:!1};function De(o,a,n,s,u,p){return P(o.$slots,"default")}var Me=j(Te,[["render",De],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Re="data-el-collection-item",Ve=o=>{const a=`El${o}Collection`,n=`${a}Item`,s=Symbol(a),u=Symbol(n),p={...Le,name:a,setup(){const v=B(null),_=new Map;Y(s,{itemMap:_,getItems:()=>{const c=r(v);if(!c)return[];const i=Array.from(c.querySelectorAll(`[${Re}]`));return[..._.values()].sort((h,w)=>i.indexOf(h.ref)-i.indexOf(w.ref))},collectionRef:v})}},g={...Me,name:n,setup(v,{attrs:_}){const b=B(null),c=ae(s,void 0);Y(u,{collectionItemRef:b}),le(()=>{const i=r(b);i&&c.itemMap.set(i,{ref:i,..._})}),re(()=>{const i=r(b);c.itemMap.delete(i)})}};return{COLLECTION_INJECTION_KEY:s,COLLECTION_ITEM_INJECTION_KEY:u,ElCollection:p,ElCollectionItem:g}},G=M({trigger:U.trigger,effect:{...C.effect,default:"light"},type:{type:$(String)},placement:{type:$(String),default:"bottom"},popperOptions:{type:$(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:$([Number,String]),default:0},maxHeight:{type:$([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:$(Object)}});M({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:ie}});M({onKeydown:{type:$(Function)}});Ve("Dropdown");const Ge=M({trigger:U.trigger,placement:G.placement,disabled:U.disabled,visible:C.visible,transition:C.transition,popperOptions:G.popperOptions,tabindex:G.tabindex,content:C.content,popperStyle:C.popperStyle,popperClass:C.popperClass,enterable:{...C.enterable,default:!0},effect:{...C.effect,default:"light"},teleported:C.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Ue={"update:visible":o=>pe(o),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},je={name:"ElPopover"},He=H({...je,props:Ge,emits:Ue,setup(o,{expose:a,emit:n}){const s=o,u="onUpdate:visible",p=S(()=>s[u]),g=ce("popover"),v=B(),_=S(()=>{var e;return(e=r(v))==null?void 0:e.popperRef}),b=S(()=>[{width:ue(s.width)},s.popperStyle]),c=S(()=>[g.b(),s.popperClass,{[g.m("plain")]:!!s.content}]),i=S(()=>s.transition===`${g.namespace.value}-fade-in-linear`),l=()=>{var e;(e=v.value)==null||e.hide()},h=()=>{n("before-enter")},w=()=>{n("before-leave")},N=()=>{n("after-enter")},x=()=>{n("update:visible",!1),n("after-leave")};return a({popperRef:_,hide:l}),(e,A)=>(E(),K(r(Ie),fe({ref_key:"tooltipRef",ref:v},e.$attrs,{trigger:e.trigger,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":r(c),"popper-style":r(b),teleported:e.teleported,persistent:e.persistent,"gpu-acceleration":r(i),"onUpdate:visible":r(p),onBeforeShow:h,onBeforeHide:w,onShow:N,onHide:x}),{content:m(()=>[e.title?(E(),k("div",{key:0,class:de(r(g).e("title")),role:"title"},L(e.title),3)):T("v-if",!0),P(e.$slots,"default",{},()=>[F(L(e.content),1)])]),default:m(()=>[e.$slots.reference?P(e.$slots,"reference",{key:0}):T("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Ke=j(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const W=(o,a)=>{const n=a.arg||a.value,s=n==null?void 0:n.popperRef;s&&(s.triggerRef=o)};var Ye={mounted(o,a){W(o,a)},updated(o,a){W(o,a)}};const ze="popover",Je=me(Ye,ze),qe=ve(Ke,{directive:Je});const ne=Symbol(),se=o=>(be("data-v-b86f5ebf"),o=o(),ge(),o),We=se(()=>d("div",{"i-typcn-arrow-back":""},null,-1)),Qe=se(()=>d("span",{class:"m-l-4px text-12px"},"\u8FD4\u56DE\u4E0A\u4E00\u7EA7",-1)),Xe={class:"file-list"},Ze=["onClick"],et={class:"name"},tt={class:"file-list"},ot=["onClick"],nt={class:"name"},st={key:0,class:"w8px h8px bg-green b-rd-100% m-l-10px"},at=H({__name:"FileList",setup(o){const{getFile:a,getPathToString:n,pushPath:s,popPath:u,setFile:p}=Q(),{on:g}=X(ne),v=["index.md","README.md"],_={GetContent(t){return te(oe+`/repos/${r(Z).login}/${t}/contents${n.value}?t=${Date.now()}`).get().json()}},b=B(),c=B([]),i=S(()=>{var t;return(t=c.value)==null?void 0:t.filter(f=>f.type==="dir")}),l=S(()=>{var t;return(t=c.value)==null?void 0:t.filter(f=>f.type==="file"&&f.name.endsWith("md"))}),h=D.value.repo;async function w(t){s(t)}function N(t){p(t)}function x(){u()}z(()=>r(D).repo,async t=>{if(!t)return;const{data:f}=await _.GetContent(t);c.value=f.value||[]},{immediate:!0});const{loading:e,open:A}=ee({target:b,text:"\u52A0\u8F7D\u4E2D..."});async function O(){var f;A();const{data:t}=await _.GetContent(h);c.value=t.value||[],(f=e.value)==null||f.close()}return _e(n,async()=>{O()},{debounce:200}),z(l,t=>{if(t.length){const f=t.find(R=>v.includes(R.name))||t[0];p(f)}}),g(()=>{O()}),(t,f)=>{const R=Ne;return E(),k("main",{class:"w-100% color-gray-6 text-12px my10px",ref_key:"fileContainerRef",ref:b},[r(n)!=="/"?(E(),K(R,{key:0,class:"my-10px m-l-30px",onClick:x},{default:m(()=>[We,Qe]),_:1})):T("",!0),d("div",Xe,[(E(!0),k(J,null,q(r(i),I=>(E(),k("div",{"cursor-pointer":"",class:"file-item",onClick:V=>w(I.name)},[d("span",et,L(I.name),1)],8,Ze))),256))]),d("div",tt,[(E(!0),k(J,null,q(r(l),I=>{var V;return E(),k("div",{"cursor-pointer":"",class:"file-item",onClick:ht=>N(I)},[d("span",nt,L(I.name),1),((V=r(a))==null?void 0:V.sha)===I.sha?(E(),k("span",st)):T("",!0)],8,ot)}),256))])],512)}}});const lt=(o,a)=>{const n=o.__vccOpts||o;for(const[s,u]of a)n[s]=u;return n},rt=lt(at,[["__scopeId","data-v-b86f5ebf"]]),it=d("div",{"i-mdi-language-markdown":"","text-70px":"","color-gray":""},null,-1),pt=d("div",{class:"text-gray-600"},"Markdown",-1),ct=[it,pt],ut=d("div",{class:"b-b-1px b-color-#dcdfe6 w-100%"},null,-1),dt={class:"h[calc(100%-300px)]"},ft={class:"w-100% h-300px b-t-1px b-color-#dcdfe6 absolute bottom-0 bg-gray-50 text-center py-20px"},mt=F("\u65B0\u5EFAMarkdown"),vt={"m-t-10px":"","text-center":""},_t=F("\u53D6\u6D88"),bt=F("\u786E\u5B9A"),gt=F("\u8BBE \u7F6E"),$t=H({__name:"Layout",setup(o){const{getPathToString:a}=Q(),n=B(""),s={AddFile(i){return te(`${oe}/repos/${Z.value.login}/${D.value.repo}/contents${a.value}${n.value}.md`).put(i)}},u=he(),p=B(!1),{emit:g}=X(ne),{loading:v,open:_}=ee({text:"\u521B\u5EFA\u6587\u4EF6\u4E2D..."});async function b(){var l;_();const{statusCode:i}=await s.AddFile({message:"md-github from a new file commit "+ye().format("YYYY/MM/DD HH:mm"),content:Se("Hello Markdown Github")});i.value===Ae.Created&&Be({title:"Success",message:"\u521B\u5EFA\u6210\u529F",type:"success"}),p.value=!1,(l=v.value)==null||l.close(),g()}function c(){r(D).token||(p.value=!1,Ee.warning("\u8BF7\u5148\u767B\u5F55"))}return(i,l)=>{const h=Fe,w=xe,N=qe,x=we,e=Ce("router-view"),A=$e,O=ke;return E(),K(O,{class:"h-100vh layout"},{default:m(()=>[y(x,{width:"210px",class:"b-r-1px b-color-#dcdfe6 relative"},{default:m(()=>[d("div",{"flex-center":"","cursor-pointer":"",onClick:l[0]||(l[0]=t=>r(u).push("/"))},ct),ut,d("main",dt,[y(rt)]),d("footer",ft,[y(N,{placement:"right",width:200,trigger:"click",visible:p.value,"onUpdate:visible":l[3]||(l[3]=t=>p.value=t),onBeforeEnter:c},{reference:m(()=>[y(h,{size:"large",class:"w-160px m-b-10px text-12px!",round:""},{default:m(()=>[mt]),_:1})]),default:m(()=>[y(w,{modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=t=>n.value=t),placeholder:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D"},null,8,["modelValue"]),d("div",vt,[y(h,{type:"info",onClick:l[2]||(l[2]=t=>p.value=!1)},{default:m(()=>[_t]),_:1}),y(h,{type:"primary",onClick:b},{default:m(()=>[bt]),_:1})])]),_:1},8,["visible"]),y(h,{size:"large",class:"w-160px m0! text-12px!",round:"",onClick:l[4]||(l[4]=t=>r(u).push("/general"))},{default:m(()=>[gt]),_:1})])]),_:1}),y(A,null,{default:m(()=>[y(e)]),_:1})]),_:1})}}});export{$t as default};
